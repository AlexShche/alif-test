"use strict";(self.webpackChunkalif_test=self.webpackChunkalif_test||[]).push([[815],{7667:function(e,n,i){i.r(n),i.d(n,{ManageRecipe:function(){return C}});var t=i(2791),r=i(602),s=i(1413),c=i(9439),u=i(2751),a=i(7929),o=i(6106),l=i(914),f=i(2835),d=i(2706),m=i(3194),h=i(3099),p=i(8747),Z=i(9286),j=i(3522),x=i(2513),g="style_uploadBtnWrapper__gBis1",b=i(184),v=u.Z.Option,k=["\u0448\u0442","\u0433\u0440","\u043a\u0433"],y=function(){var e=(0,r.UO)(),n="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",i=(0,j.T)(),y=(0,j.C)((function(e){return e.recipes})).isEditRecipePage,C=(0,j.C)((function(n){return{recipe:n.recipes.recipes.find((function(n){return n.id===e.id}))}})),I=C.recipe,P=a.Z.useForm(),_=(0,c.Z)(P,1)[0];(0,t.useEffect)((function(){y&&_.setFieldsValue((0,s.Z)({},I))}),[y]);return(0,b.jsxs)(a.Z,{form:_,initialValues:{remember:!0},onFinish:function(e){if(y)return i((0,x.J0)(e));i((0,x.kW)(e))},autoComplete:"off",children:[(0,b.jsxs)(o.Z,{gutter:16,children:[(0,b.jsx)(l.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:n}],children:(0,b.jsx)(f.Z,{})})}),(0,b.jsx)(l.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u043b\u0435\u043d\u0438\u044f",name:"cooking_time",rules:[{required:!0,message:n}],children:(0,b.jsx)(d.Z,{})})})]}),(0,b.jsxs)("div",{className:g,children:[(0,b.jsx)(m.ZP,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,b.jsx)("input",{type:"file",name:"myfile"})]}),(0,b.jsx)(a.Z.List,{name:"ingredients",children:function(e,i){var t=i.add,r=i.remove;return(0,b.jsxs)(b.Fragment,{children:[e.map((function(e){return(0,b.jsxs)(h.Z,{align:"baseline",children:[(0,b.jsx)(a.Z.Item,(0,s.Z)((0,s.Z)({},e),{},{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",name:[e.name,"name"],rules:[{required:!0,message:n}],children:(0,b.jsx)(f.Z,{})})),(0,b.jsx)(a.Z.Item,(0,s.Z)((0,s.Z)({},e),{},{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",name:[e.name,"quantity"],rules:[{required:!0,message:n}],children:(0,b.jsx)(d.Z,{})})),(0,b.jsx)(a.Z.Item,(0,s.Z)((0,s.Z)({},e),{},{label:"\u0412\u0438\u0434 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",name:[e.name,"measurement_value"],rules:[{required:!0,message:n}],children:(0,b.jsx)(u.Z,{style:{width:130},children:k.map((function(e){return(0,b.jsx)(v,{value:e,children:e},e)}))})})),(0,b.jsx)(p.Z,{onClick:function(){return r(e.name)}})]},e.key)})),(0,b.jsx)(a.Z.Item,{children:(0,b.jsx)(m.ZP,{type:"dashed",onClick:function(){return t()},block:!0,icon:(0,b.jsx)(Z.Z,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442"})})]})}}),(0,b.jsx)(a.Z.Item,{children:(0,b.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:y?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})},C=function(){var e=(0,r.UO)(),n=(0,r.TH)(),i=(0,j.C)((function(e){return e.recipes})).isEditRecipePage,s=(0,j.T)(),c=(0,j.C)((function(n){return{recipe:n.recipes.recipes.find((function(n){return n.id===e.id}))}})),u=c.recipe;return(0,t.useEffect)((function(){s((0,x.Wf)(n.pathname))}),[n.pathname]),i?(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("h1",{children:['\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0446\u0435\u043f\u0442 "',null===u||void 0===u?void 0:u.name,'"']}),(0,b.jsx)(y,{})]}):(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("h1",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u0446\u0435\u043f\u0442"}),(0,b.jsx)(y,{})]})}},2513:function(e,n,i){i.d(n,{kW:function(){return u},J0:function(){return a},iM:function(){return c},Wf:function(){return o}});var t=i(1243).Z.create({baseURL:"https://48b6acce-08b0-44a4-9d3b-b97526896901.mock.pstmn.io"}),r=i(9249),s=i(8040),c=function(){return function(e){t.get("/recipes").then((function(e){console.log({res:e})})).catch((function(e){console.log({e:e})}))}},u=function(e){return function(){t.post("/recipes",e).then((function(){s.m.push("/")})).catch((function(e){console.log({e:e})}))}},a=function(e){return function(n){t.put("/recipes",e).then((function(){s.m.push("/")})).catch((function(e){console.log({e:e})}))}},o=function(e){return function(n){if(e.includes("edit"))return n(r.f.actions.setIsEditRecipePage(!0));n(r.f.actions.setIsEditRecipePage(!1))}}},3522:function(e,n,i){i.d(n,{C:function(){return s},T:function(){return r}});var t=i(9434),r=function(){return(0,t.I0)()},s=t.v9}}]);
//# sourceMappingURL=815.22b65677.chunk.js.map